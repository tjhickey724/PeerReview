<template name="showStudents">
  <h1>Student Info for <a href="/viewClass/{{class._id}}">{{class.name}}</a></h1>

  <table class="table table-bordered table-striped">
    <thead>
      <tr>
          <td>Name</td>
          <td>Email</td>
        {{#each question in questions class}}
          <td>{{question.title}}</td>
        {{/each}}
      </tr>
    </thead>
    <tbody>
  {{#each student in students class}}
    {{> showStudent student=student class=class}}
  {{/each}}
    </tbody>
  </table>


</template>

<template name="showStudent">
  <tr>
    <td> <a href="/studentWork/{{student._id}}/{{class._id}}"> {{profile.name}}</a></td>
    <td> {{profile.email}}</td>
    {{#each question in questions student.class_id}}
    <td> {{numReviews question}}</td>
    {{/each}}

  </tr>

</template>

<template name="studentWork">
  <h1> Details on Work of
      {{profile.rname}}/{{profile.remail}}</h1>

  <h2>Problems Attempted</h2>
  <table class="table table-bordered table-striped">
    <thead>
      <tr><td>Problem</td><td>Student's Answer and Reviews</td></tr>
    </thead>
    <tbody>
  {{#each question in questions class._id}}
    <tr>
      <td>
    <b>{{question.title}}</b>
    <div class="bg-info" style="white-space: pre-wrap;">{{question.question}}</div>
     </td>
     <td>
    <pre>{{answer question._id}}</pre>

    <ul>
      {{#each review in reviews question._id}}
        <li> Rating: {{review.rating}}:
            <div class="bg-warning" style="white-space: pre-wrap;">{{review.review}}</div>
      </li>
      {{/each}}
    </ul>
  </td>
</tr>
  {{/each}}
</tbody>
</table>

<h2>Reviews Written</h2>
<table class="table table-bordered table-striped">
  <thead>
    <tr><td>Problem</td><td>Answer and Review</td></tr>
  </thead>
<tbody>
{{#each review in reviewsByStudent student}}

   {{> studentReview review=review student=student class=class}}

{{/each}}
</tbody>
</table>

</template>

<template name="studentReview">
  <tr>
    <td>
      <b>{{reviewInfo.question.title}}</b><br>
      {{reviewInfo.question.question}}
    </td>
    <td>
     <pre>{{reviewInfo.answer.answer}}</pre>
     <hr>
     Rating: {{review.rating}}<br>
      {{review.review}}
    </td>
  </tr>
</template>
